package proyectoteleco

import (
	"crypto/aes"
	"encoding/hex"
	"errors"
)

type Usuario struct {
	Id       int
	Nombre   string
	Apellido string
	Telefono int
	Cedula   int
	Texto    string
	clave1   string
	clave2   string
}

func (U *Usuario) Validar_llave(clave string) error {

	validar, err := aes.NewCipher([]byte(clave))
	if err != nil {
		return errors.New("clave no es posible ")
	}
	dst, srt := validar.Encrypt(U.clave2)

	if validar == U.clave {

	}

	return nil

}

func EncryptAES(key []byte, plaintext string) (string, error) {
	c, err := aes.NewCipher(key)
	if err != nil {
		return "", err
	}
	out := make([]byte, len(plaintext))
	c.Encrypt(out, []byte(plaintext))
	return hex.EncodeToString(out), nil
}

func DecryptAES(key []byte, ct string) (string, error) {
	ciphertext, _ := hex.DecodeString(ct)
	c, err := aes.NewCipher(key)
	if err != nil {
		return "", err
	}
	pt := make([]byte, len(ciphertext))
	c.Decrypt(pt, ciphertext)
	return hex.EncodeToString(c), nil

}
